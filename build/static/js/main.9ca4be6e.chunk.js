(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,r){},123:function(e,t,r){},124:function(e,t,r){},125:function(e,t,r){},126:function(e,t,r){},127:function(e,t,r){},129:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(58),i=r.n(o),c=(r(76),r(59)),u=r(62),s=r(19),l=r(3),f=r(2),m=r(17),h=(r(53),Object(n.createContext)()),d=function(e){var t=e.children,r=Object(n.useState)(!0),o=Object(f.a)(r,2),i=o[0],c=o[1],u=Object(n.useState)(null),s=Object(f.a)(u,2),l=s[0],d=s[1],p=Object(n.useState)(!1),b=Object(f.a)(p,2),v=b[0],g=b[1],y=m.a.firestore();Object(n.useEffect)(function(){m.a.auth().onAuthStateChanged(function(e){if(d(e),c(!1),e){var t=e.email.split("@")[0];y.collection("Users").doc(t).onSnapshot(function(e){var r=e.data();r&&r.isSuperUser?g(!0):y.collection("Users").doc(t).collection("JoinClub").onSnapshot(function(e){e.forEach(function(e){var t=e.data();"1"!==t.user_role&&"2"!==t.user_role||g(!0)})})})}else g(!1)})},[y]);return i?null:a.a.createElement(h.Provider,{value:{currentUser:l,setCurrentUser:d,isAdmin:v,setIsAdmin:g}},"  ",t)},p=function(e){var t=e.children,r=Object(n.useContext)(h),a=r.currentUser,o=r.isAdmin,i=Object(l.o)(),c=Object(l.m)();return Object(n.useEffect)(function(){a&&("/admin"!==c.pathname||o)||i("/login",{replace:!0,state:{from:c}})},[a,o,i,c]),a?t:null},b=(r(47),r(78),r(7));m.a.initializeApp({apiKey:"AIzaSyCXTSQjv3PNU5W5DS6IHic2giQQq2u_O94",authDomain:"lego-73686.firebaseapp.com",projectId:"lego-73686",storageBucket:"lego-73686.appspot.com",messagingSenderId:"758321857556",appId:"1:758321857556:web:a796ea64d3f874685e9301"});var v=m.a.auth(),g=m.a.firestore();r(79),r(80);function y(){y=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(L){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new N(a||[]);return n(i,"_invoke",{value:j(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var f={};function m(){}function h(){}function d(){}var p={};u(p,o,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(T([])));v&&v!==t&&r.call(v,o)&&(p=v);var g=d.prototype=m.prototype=Object.create(p);function E(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(u.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function j(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(w.prototype),u(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(g),u(g,c,"Generator"),u(g,o,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var E=function(e){var t=e.uid,r=e.onComplete,o=Object(n.useState)(""),i=Object(f.a)(o,2),c=i[0],u=i[1],s=Object(n.useState)(""),h=Object(f.a)(s,2),d=h[0],p=h[1],v=Object(n.useState)(""),g=Object(f.a)(v,2),E=g[0],w=g[1],j=(Object(l.o)(),function(){var e=Object(b.a)(y().mark(function e(n){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,m.a.firestore().collection("Users").doc(t).update({UserName:c,UserTeam:d,isRole:E});case 4:r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error updating user info:",e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}());return a.a.createElement("div",{className:"user-info-form"},a.a.createElement("h2",null,"\uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"),a.a.createElement("form",{onSubmit:j},a.a.createElement("div",null,a.a.createElement("label",null,"\uc774\ub984:"),a.a.createElement("input",{type:"text",value:c,onChange:function(e){return u(e.target.value)},required:!0})),a.a.createElement("div",null,a.a.createElement("label",null,"\ud300:"),a.a.createElement("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)},required:!0})),a.a.createElement("div",null,a.a.createElement("label",null,"\uc5ed\ud560:"),a.a.createElement("select",{value:E,onChange:function(e){return w(e.target.value)},required:!0},a.a.createElement("option",{value:""},"\uc120\ud0dd\ud574\uc8fc\uc138\uc694"),a.a.createElement("option",{value:"student"},"\ud559\uc0dd"),a.a.createElement("option",{value:"teacher"},"\uad50\uc0ac"))),a.a.createElement("button",{type:"submit"},"\uc81c\ucd9c")))};function w(){w=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(L){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new N(a||[]);return n(i,"_invoke",{value:j(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var f={};function m(){}function h(){}function d(){}var p={};u(p,o,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(T([])));v&&v!==t&&r.call(v,o)&&(p=v);var g=d.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(u.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function j(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),u(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(g),u(g,c,"Generator"),u(g,o,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=T,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var j=function(){var e=Object(l.o)(),t=(Object(l.m)(),Object(n.useContext)(h)),r=t.isAdmin,o=t.setIsAdmin,i=t.currentUser,c=Object(n.useState)(""),u=Object(f.a)(c,2),s=u[0],d=u[1],p=Object(n.useState)(!1),g=Object(f.a)(p,2),y=g[0],j=g[1],O=Object(n.useState)(null),x=Object(f.a)(O,2),k=x[0];x[1];a.a.useEffect(function(){i&&e(r?"/admindash":"/dashboard")},[i,r,e]);var N=function(){var e=Object(b.a)(w().mark(function e(t,r){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.data().isSuperUser||!1);case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),T=function(){var t=Object(b.a)(w().mark(function t(){var r,n,a,i,c,u,s,l;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.signInWithPopup(new m.a.auth.GoogleAuthProvider);case 3:if(r=t.sent,n=r.user.email,a=n.substring(0,n.lastIndexOf("@")),i=n.substring(n.lastIndexOf("@")+1),c=r.user.uid,"gmail.com"===i){t.next=14;break}return t.next=11,v.signOut();case 11:d("Only members of the SAS community may access this page. Please log in with sas.edu.sg account"),t.next=33;break;case 14:return u=m.a.firestore().collection("Users").doc(c),t.next=17,u.get();case 17:if((s=t.sent).exists){t.next=24;break}return t.next=21,u.set({email:n,UserName:"",UserTeam:"",isRole:"",isSuperUser:!1,createdAt:m.a.firestore.FieldValue.serverTimestamp()});case 21:e("/setup"),t.next=33;break;case 24:if(s.data().UserName&&s.data().UserTeam&&s.data().isRole){t.next=28;break}e("/setup"),t.next=33;break;case 28:return t.next=30,N(a,s);case 30:l=t.sent,o(l),e(l?"/admindash":"/dashboard");case 33:t.next=39;break;case 35:t.prev=35,t.t0=t.catch(0),console.log(t.t0.message),d(t.t0.message);case 39:case"end":return t.stop()}},t,null,[[0,35]])}));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(b.a)(w().mark(function t(){var r,n,a,c,u;return w().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=m.a.firestore().collection("Users").doc(k),t.next=3,r.get();case 3:return n=t.sent,a=i.email,c=a.substring(0,a.lastIndexOf("@")),t.next=8,N(c,n);case 8:u=t.sent,o(u),j(!1),e(u?"/admindash":"/dashboard");case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"login-background"},y?a.a.createElement(E,{uid:k,onComplete:S}):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"Title"},"Welcome to Sha LEGO Portal!"),a.a.createElement("div",{className:"googleLoginButton"},a.a.createElement("button",{onClick:T,className:"google-btn",type:"button"},a.a.createElement("span",{className:"google-icon-wrapper"},a.a.createElement("img",{className:"google-icon",src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google logo"})),a.a.createElement("span",{className:"google-btn-text"},"Sign in with Google"))),s&&a.a.createElement("p",null,s)))};r(81),r(82);var O=function(){var e=Object(n.useContext)(h).currentUser,t=Object(l.o)();return e?a.a.createElement("nav",{className:"fixed-top pt-0"},a.a.createElement("div",{className:"navAlign"},a.a.createElement("a",{href:"/dashboard",role:"button"},a.a.createElement("img",{className:"logo",src:"/sha_logo.png",alt:"sha logo"})),a.a.createElement("div",{className:"user-controls"},a.a.createElement("div",{className:"nav-link-box",onClick:function(){m.a.auth().signOut().then(function(){t("/login")})}},"Sign Out")),a.a.createElement("div",{className:"nav-search"},a.a.createElement("input",{type:"text",placeholder:"\ud83d\udd0d \uac80\uc0c9"})))):null};r(83);var x=function(){var e=Object(n.useContext)(h),t=e.currentUser,r=e.isAdmin,o=Object(n.useState)(!1),i=Object(f.a)(o,2),c=i[0],u=i[1];return t?a.a.createElement("div",null,a.a.createElement("div",{className:"hamburger-menu",onClick:function(){u(!c)}},"\u2630"),a.a.createElement("div",{className:"sidebar ".concat(c?"is-visible":"")},a.a.createElement("ul",{className:"nav-links"},r?a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(s.b,{to:"/totaladmin",className:"admin-nav-item",onClick:function(){return u(!1)}},"\ud83c\udfe0 \uad00\ub9ac\uc790 HOME")),a.a.createElement("li",null,a.a.createElement(s.b,{to:"/admindash",className:"admin-nav-item",onClick:function(){return u(!1)}},"\ud83d\udd11 \uad00\ub9ac\uc790 Dashboard"))):a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(s.b,{to:"/dashboard",className:"nav-item",onClick:function(){return u(!1)}},"\ud83d\udcca Dashboard")),a.a.createElement("li",null,a.a.createElement(s.b,{to:"/myproject",className:"nav-item",onClick:function(){return u(!1)}},"\ud83d\udcc1 My \ud504\ub85c\uc81d\ud2b8"))),a.a.createElement("li",null,a.a.createElement(s.b,{to:"/setup",className:"nav-item setup-link",onClick:function(){return u(!1)}},"\u2699\ufe0f \uacc4\uc815 \uc815\ubcf4 \uc124\uc815"))))):null},k=r(11),N=r(9),T=r(6),S=r(65),L=r(60),_=r(66);r(85),r(86);function D(){D=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var f={};function m(){}function h(){}function d(){}var p={};u(p,o,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(N([])));v&&v!==t&&r.call(v,o)&&(p=v);var g=d.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(u.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),u(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(g),u(g,c,"Generator"),u(g,o,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var F=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)([]),c=Object(f.a)(i,2),u=c[0],s=c[1],l=Object(n.useState)({}),h=Object(f.a)(l,2),d=h[0],p=h[1],v=Object(n.useState)(null),y=Object(f.a)(v,2),E=y[0],w=y[1],j=Object(n.useState)(null),O=Object(f.a)(j,2),x=O[0],F=O[1],I=Object(n.useState)({year:(new Date).getFullYear(),month:(new Date).getMonth()+1}),P=Object(f.a)(I,2),G=P[0],C=P[1],A=Object(n.useState)(null),U=Object(f.a)(A,2),M=U[0],Y=U[1],z=Object(n.useState)(!1),R=Object(f.a)(z,2),B=R[0],J=R[1],W=Object(n.useState)({top:0,left:0}),q=Object(f.a)(W,2),H=q[0],K=q[1],Q=Object(n.useState)(""),X=Object(f.a)(Q,2),V=X[0],Z=X[1],$=Object(n.useState)(!1),ee=Object(f.a)($,2),te=ee[0],re=ee[1];Object(n.useEffect)(function(){var e=m.a.auth().currentUser;e&&w(e.uid)},[]),Object(n.useEffect)(function(){E&&g.collection("Users").doc(E).get().then(function(e){e.exists?F(e.data()):console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}).catch(function(e){return console.error("Error fetching user data:",e)})},[E]),Object(n.useEffect)(function(){if(E){var e=new Date(G.year,G.month-1,1).toISOString().split("T")[0],t=new Date(G.year,G.month,0).toISOString().split("T")[0];g.collection("tasks").where("Uesrsid","==",E).where("date",">=",e).where("date","<=",t).get().then(function(e){var t=e.docs.map(function(e){return Object(T.a)({id:e.id},e.data(),{userName:x.UserName||"\uc54c \uc218 \uc5c6\uc74c",userTeam:x.UserTeam||"\uc54c \uc218 \uc5c6\uc74c"})});o(t)}).catch(function(e){return console.error("Error fetching tasks:",e)})}},[E,G,x]),Object(n.useEffect)(function(){if(d&&r.length>0){var e=r.map(function(e){try{var t=e.department,r=(d[t].categories||[]).find(function(t){return t.name===e.categoriesName}),n=r.subcategories.find(function(t){return t.name===e.subcategoriesName});return Object(T.a)({},e,{availableSubcategories:r.subcategories||[],availableSubSubcategories:n.subsubcategories||[]})}catch(a){return console.error("Error processing task:",e,a),Object(T.a)({},e,{availableSubcategories:[],availableSubSubcategories:[]})}});o(e)}},[d]),Object(n.useEffect)(function(){["business","Management","Design"].forEach(function(e){g.collection("departments").doc(e).get().then(function(t){t.exists?p(function(r){return Object(T.a)({},r,Object(N.a)({},e,t.data()))}):console.error("No such document: ".concat(e))}).catch(function(e){return console.error("Error fetching department data:",e)})})},[]),Object(n.useEffect)(function(){g.collection("projects").get().then(function(e){var t=e.docs.map(function(e){return{id:e.id,name:e.data().name}}).map(function(e){return{value:e.name,label:e.name}});s(t)}).catch(function(e){return console.error("Error fetching projects:",e)})},[]),Object(n.useEffect)(function(){r.forEach(function(e){var t=(e.baseTime||0)-(parseFloat(e.spentTime)||0),r="\uc644\ub8cc"===e.status?"\uc644\ub8cc":t<0?"\uc9c0\uc5f0":e.status;e.remainingTime===t&&e.status===r||g.collection("tasks").doc(e.id).update({remainingTime:t,status:r}).then(function(){return console.log("Updated task: ".concat(e.id,", Remaining Time: ").concat(t,", Status: ").concat(r))}).catch(function(e){return console.error("Error updating task:",e)})})},[r]);var ne=Object(n.useRef)(Object(L.debounce)(function(e,t){g.collection("tasks").doc(e).update(t).then(function(){return console.log("Task ".concat(e," updated"))}).catch(function(e){return console.error("Error updating task:",e)})},500)),ae=function(e,t){C(function(r){return Object(T.a)({},r,Object(N.a)({},e,t))})},oe=function(){var e=Object(b.a)(D().mark(function e(t,n,a){var i,c,u,s,l,f,m,h,p,b,v,y,E;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.find(function(e){return e.id===t}),"department"!==n){e.next=4;break}return e.next=4,ue(a);case 4:if(d[i.department]){e.next=7;break}return e.next=7,ue(i.department);case 7:if("categoriesName"!==n){e.next=11;break}if(!i.subcategoriesName&&!i.subsubcategoriesName){e.next=11;break}return window.confirm("\ub300\ubd84\ub958\ub97c \ubcc0\uacbd\ud558\uba74 \uc120\ud0dd\ub41c \uc911\ubd84\ub958\uc640 \uc18c\ubd84\ub958\uac00 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4. \uacc4\uc18d\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(c=d[i.department].categories.find(function(e){return e.name===a}),u={categoriesName:a,subcategoriesName:"",subsubcategoriesName:"",availableSubcategories:c.subcategories||[],availableSubSubcategories:[],baseTime:0},g.collection("tasks").doc(t).update(u).then(function(){o(function(e){return e.map(function(e){return e.id===t?Object(T.a)({},e,u):e})})}).catch(function(e){console.error("Error updating task:",e),alert("\uce74\ud14c\uace0\ub9ac \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")})),e.abrupt("return");case 11:if("subcategoriesName"!==n){e.next=15;break}if(!i.subsubcategoriesName){e.next=15;break}return window.confirm("\uc911\ubd84\ub958\ub97c \ubcc0\uacbd\ud558\uba74 \uc120\ud0dd\ub41c \uc18c\ubd84\ub958\uac00 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4. \uacc4\uc18d\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(s=i.availableSubcategories.find(function(e){return e.name===a}),l={subcategoriesName:a,subsubcategoriesName:"",availableSubSubcategories:s.subsubcategories||[],baseTime:0},g.collection("tasks").doc(t).update(l).then(function(){o(function(e){return e.map(function(e){return e.id===t?Object(T.a)({},e,l):e})})}).catch(function(e){console.error("Error updating task:",e),alert("\uce74\ud14c\uace0\ub9ac \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")})),e.abrupt("return");case 15:if("spentTime"!==n){e.next=22;break}if(f=i.baseTime||0,m=Math.max(0,parseFloat(a))||0,!((h=f-m)<0&&"\uc9c0\uc5f0"!==i.status)){e.next=22;break}return window.confirm("\uc794\uc5ec\uc2dc\uac04\uc774 \uc74c\uc218\uc785\ub2c8\ub2e4. \uc0c1\ud0dc\ub97c \uc9c0\uc5f0\uc73c\ub85c \ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")?(o(function(e){return e.map(function(e){return e.id===t?Object(T.a)({},e,{spentTime:a,remainingTime:h,status:"\uc9c0\uc5f0"}):e})}),g.collection("tasks").doc(t).update({spentTime:a,remainingTime:h,status:"\uc9c0\uc5f0"})):(p=i.spentTime,o(function(e){return e.map(function(e){return e.id===t?Object(T.a)({},e,{spentTime:p,remainingTime:f-p}):e})})),e.abrupt("return");case 22:if("status"!==n||"\uc9c0\uc5f0"!==a||i.note.trim()){e.next=25;break}return alert('\uc0ac\uc720\ub97c \uc785\ub825\ud574\uc57c \uc0c1\ud0dc\ub97c "\uc9c0\uc5f0"\uc73c\ub85c \ubcc0\uacbd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.'),e.abrupt("return");case 25:if("\uc9c0\uc5f0"!==i.status||"status"!==n||"\uc9c0\uc5f0"===a){e.next=29;break}if(i.note.trim()){e.next=29;break}return alert('\uc0ac\uc720\ub97c \uc785\ub825\ud574\uc57c "\uc9c0\uc5f0" \uc0c1\ud0dc\uc5d0\uc11c \ub2e4\ub978 \uc0c1\ud0dc\ub85c \ubcc0\uacbd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.'),e.abrupt("return");case 29:if("\uc9c0\uc5f0"!==i.status||"note"===n||i.note.trim()){e.next=32;break}return alert("\uc0ac\uc720\ub97c \uc785\ub825\ud574\uc57c \ub2e4\ub978 \ud544\ub4dc\ub97c \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),e.abrupt("return");case 32:o(function(e){return e.map(function(e){return e.id===t?Object(T.a)({},e,Object(N.a)({},n,a),"categoriesName"===n&&{subcategoriesName:"",subsubcategoriesName:"",availableSubcategories:d[e.department].categories.find(function(e){return e.name===a}).subcategories||[],availableSubSubcategories:[]},"subcategoriesName"===n&&{subsubcategoriesName:"",availableSubSubcategories:i.availableSubcategories.find(function(e){return e.name===a}).subsubcategories||[]},"spentTime"===n&&{remainingTime:(i.baseTime||0)-(Math.max(0,parseFloat(a))||0),status:(i.baseTime||0)-(Math.max(0,parseFloat(a))||0)<0?"\uc9c0\uc5f0":"\uc644\ub8cc"===e.status?"\uc644\ub8cc":"\uc9c4\ud589\uc911"===e.status?"\uc9c4\ud589\uc911":"\ud560\uc77c"}):e})}),"note"===n?ne.current(t,Object(N.a)({},n,a)):(b=i.baseTime||0,v="spentTime"===n?Math.max(0,parseFloat(a))||0:i.spentTime||0,y=b-v,E=Object(T.a)(Object(N.a)({},n,a),"spentTime"===n&&{remainingTime:y,status:y<0?"\uc9c0\uc5f0":"\uc644\ub8cc"===i.status?"\uc644\ub8cc":"\uc9c4\ud589\uc911"}),g.collection("tasks").doc(t).update(E).then(function(){return console.log("Task ".concat(t," updated: ").concat(n," = ").concat(a))}).catch(function(e){return console.error("Error updating task:",e)}));case 34:case"end":return e.stop()}},e)}));return function(t,r,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(b.a)(D().mark(function e(t){var r,n;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E&&t){e.next=3;break}return console.error("\uc0ac\uc6a9\uc790\uac00 \ub85c\uadf8\uc778\ub418\uc9c0 \uc54a\uc558\uac70\ub098 \ubd80\uc11c\uac00 \uc120\ud0dd\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),e.abrupt("return");case 3:return e.next=5,ue(t);case 5:r=(new Date).toISOString().split("T")[0],n={date:r,status:"\ud560\uc77c",projectName:"",categoriesName:"",subcategoriesName:"",subsubcategoriesName:"",baseTime:0,spentTime:0,remainingTime:0,note:"",Uesrsid:E,userName:x.UserName,userTeam:x.UserTeam,department:t,availableSubcategories:[],availableSubSubcategories:[]},g.collection("tasks").add(n).then(function(e){return o(function(t){return[].concat(Object(k.a)(t),[Object(T.a)({id:e.id},n)])}),g.collection("departments").doc(t).get()}).then(function(e){e.exists&&p(function(r){return Object(T.a)({},r,Object(N.a)({},t,e.data()))}),Z(""),re(!1)}).catch(function(e){return console.error("Error adding task:",e)});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(D().mark(function e(t){var r;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.target.value)){e.next=5;break}return e.next=4,ue(r);case 4:ie(r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){var e=function(e){var t=document.querySelector(".calendar-container");!t||t.contains(e.target)||e.target.closest(".myproject-task-row div:first-child")||J(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[]);var ue=function(){var e=Object(b.a)(D().mark(function e(t){var r;return D().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d[t]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g.collection("departments").doc(t).get();case 5:(r=e.sent).exists&&p(function(e){return Object(T.a)({},e,Object(N.a)({},t,r.data()))}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching department data for ".concat(t,":"),e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"my-project"},a.a.createElement("div",{className:"myproject-project-header"},a.a.createElement("div",{className:"my-project-add-task-container"},a.a.createElement("button",{onClick:function(){return re(!0)},className:"my-project-add-task-button"},"+ \uc791\uc5c5 \ucd94\uac00"),te&&a.a.createElement("select",{value:V,onChange:ce,className:"department-select"},a.a.createElement("option",{value:""},"\ubd80\uc11c \uc120\ud0dd"),[{value:"business",label:"\uc0ac\uc5c5\ubd80\uc11c"},{value:"Management",label:"\uacbd\uc601\ubd80\uc11c"},{value:"Design",label:"\ub514\uc790\uc778\ubd80\uc11c"}].map(function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.label)}))),a.a.createElement("div",{className:"my-project-filters"},a.a.createElement("select",{value:G.year,onChange:function(e){return ae("year",parseInt(e.target.value))}},[2023,2024,2025].map(function(e){return a.a.createElement("option",{key:e,value:e},e,"\ub144")})),a.a.createElement("select",{value:G.month,onChange:function(e){return ae("month",parseInt(e.target.value))}},Object(k.a)(Array(12).keys()).map(function(e){return a.a.createElement("option",{key:e+1,value:e+1},e+1,"\uc6d4")})))),a.a.createElement("div",{className:"myproject-task-table-header"},a.a.createElement("div",null,"\uc791\uc131\uc77c"),a.a.createElement("div",null,"\uc0c1\ud0dc"),a.a.createElement("div",null,"\uc0ac\uc5c5\uba85"),a.a.createElement("div",null,"\ub300\ubd84\ub958"),a.a.createElement("div",null,"\uc911\ubd84\ub958"),a.a.createElement("div",null,"\uc18c\ubd84\ub958"),a.a.createElement("div",null,"\uae30\uc900\uc2dc\uac04"),a.a.createElement("div",null,"\uc18c\uc694\uc2dc\uac04"),a.a.createElement("div",null,"\uc794\uc5ec\uc2dc\uac04"),a.a.createElement("div",null,"\ube44\uace0")),a.a.createElement("div",{className:"myproject-task-sections"},["\ud560\uc77c","\uc9c0\uc5f0","\uc9c4\ud589\uc911","\uc644\ub8cc"].map(function(e){return a.a.createElement("div",{className:"myproject-task-section",key:e},a.a.createElement("h3",null,"\u25bc ",e),r.filter(function(t){return t.status===e}).map(function(e){return a.a.createElement("div",{className:"myproject-task-row ".concat(e.status),key:e.id},a.a.createElement("div",{onClick:function(t){console.log("Date clicked for task:",e.id),function(e,t){t.stopPropagation(),Y(e),J(!0);var r=t.target.getBoundingClientRect();K({top:r.bottom+window.scrollY,left:r.left+window.scrollX})}(e.id,t)}},e.date),a.a.createElement("div",null,a.a.createElement("select",{value:e.status,onChange:function(t){return oe(e.id,"status",t.target.value)},className:"myproject-status-select ".concat(e.status)},a.a.createElement("option",{value:"\ud560\uc77c"},"\ud560\uc77c"),a.a.createElement("option",{value:"\uc9c0\uc5f0"},"\uc9c0\uc5f0"),a.a.createElement("option",{value:"\uc9c4\ud589\uc911"},"\uc9c4\ud589\uc911"),a.a.createElement("option",{value:"\uc644\ub8cc"},"\uc644\ub8cc"))),a.a.createElement("div",null,a.a.createElement(S.a,{options:u,value:u.find(function(t){return t.value===e.projectName}),onChange:function(t){return oe(e.id,"projectName",t.value)},placeholder:"\uc0ac\uc5c5\uba85",classNamePrefix:"myproject-custom-select"})),a.a.createElement("div",null,a.a.createElement("select",{value:e.categoriesName,onChange:function(t){return oe(e.id,"categoriesName",t.target.value)},className:"myproject-category-select"},a.a.createElement("option",{value:""},"\ub300\ubd84\ub958"),d[e.department].categories.map(function(e){return a.a.createElement("option",{key:e.id,value:e.name},e.name)})||[])),a.a.createElement("div",null,a.a.createElement("select",{value:e.subcategoriesName,onChange:function(t){return oe(e.id,"subcategoriesName",t.target.value)},className:"myproject-category-select \uc911\ubd84\ub958"},a.a.createElement("option",{value:""},"\uc911\ubd84\ub958"),e.availableSubcategories.map(function(e){return a.a.createElement("option",{key:e.id,value:e.name},e.name)}))),a.a.createElement("div",null,a.a.createElement("select",{value:e.subsubcategoriesName,onChange:function(t){return oe(e.id,"subsubcategoriesName",t.target.value)},className:"myproject-category-select \uc18c\ubd84\ub958"},a.a.createElement("option",{value:""},"\uc18c\ubd84\ub958"),e.availableSubSubcategories.map(function(e){return a.a.createElement("option",{key:e.id,value:e.name},e.name)}))),a.a.createElement("div",null,e.availableSubSubcategories.filter(function(t){return t.name===e.subsubcategoriesName}).map(function(t){var r=t.baseTime||0;return e.baseTime!==r&&oe(e.id,"baseTime",r),a.a.createElement("span",{key:t.id},r)})),a.a.createElement("div",null,a.a.createElement("input",{type:"number",value:e.spentTime,onChange:function(t){var r=Math.max(0,parseFloat(t.target.value)||0),n=Math.round(10*r)/10;oe(e.id,"spentTime",n)},step:"0.1",min:"0"})),a.a.createElement("div",null,a.a.createElement("span",{style:{color:"\uc644\ub8cc"===e.status?"blue":e.remainingTime<0?"red":"black"}},"\uc644\ub8cc"===e.status?"\uc644\ub8cc":e.remainingTime<0?"\uc9c0\uc5f0":(Math.round(10*e.remainingTime)/10).toFixed(1))),a.a.createElement("div",null,a.a.createElement("input",{type:"text",value:e.note,onChange:function(t){return oe(e.id,"note",t.target.value)}}),a.a.createElement("button",{onClick:function(){return t=e.id,void g.collection("tasks").doc(t).delete().then(function(){o(function(e){return e.filter(function(e){return e.id!==t})}),console.log("Task deleted:",t)}).catch(function(e){return console.error("Error deleting task:",e)});var t},className:"myproject-delete-icon-button"},"\ud83d\uddd1\ufe0f")))}))})),B&&a.a.createElement("div",{className:"calendar-container",style:{position:"absolute",top:H.top,left:H.left,zIndex:800}},a.a.createElement(_.a,{onChange:function(e){if(M){var t=e.toISOString().split("T")[0];oe(M,"date",t),J(!1)}}})))},I=r(24),P=r.n(I),G=(r(122),r(135)),C=r(136),A=r(134),U=r(31);function M(){M=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var f={};function m(){}function h(){}function d(){}var p={};u(p,o,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(N([])));v&&v!==t&&r.call(v,o)&&(p=v);var g=d.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(u.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),u(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(g),u(g,c,"Generator"),u(g,o,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Y=function(e){var t=e.task,r=(e.moveTask,e.columnId),n=Object(G.a)({type:"TASK",item:{id:t.id,columnId:r}}),o=Object(f.a)(n,2)[1];return a.a.createElement("div",{ref:o,className:"kanban-task ".concat(t.projectName.replace(" ","-"))},a.a.createElement("div",{className:"task-header"},a.a.createElement("strong",null,t.projectName),a.a.createElement("span",{className:"team-info"},t.category1),a.a.createElement("span",{className:"mydashboard-task-name"},t.userName,"/",t.userTeam)),a.a.createElement("div",{className:"task-content"},a.a.createElement("div",{className:"task-row"},t.subcategoriesName&&a.a.createElement("div",{className:"subcategory-box"},t.subcategoriesName),a.a.createElement("div",{className:"task-time"},t.baseTime,"/",t.spentTime,"/","column-2"===r?a.a.createElement("span",{style:{color:"red"}},"\uc9c0\uc5f0"):"column-4"===r?a.a.createElement("span",{style:{color:"blue"}},"\uc644\ub8cc"):"".concat(t.remainingTime)))),a.a.createElement("div",{className:"task-note"},t.note))},z=function(e){var t=e.column,r=e.tasks,n=e.moveTask,o=Object(C.a)({accept:"TASK",drop:function(e){return n(e.id,e.columnId,t.id)}}),i=Object(f.a)(o,2)[1];return a.a.createElement("div",{ref:i,className:"kanban-column"},a.a.createElement("h3",{className:"column-title"},t.title," ",a.a.createElement("span",null,r.length)),r.map(function(e){return a.a.createElement(Y,{key:e.id,task:e,moveTask:n,columnId:t.id})}))},R=function(){var e=Object(n.useState)({tasks:[],columns:{"column-1":{id:"column-1",title:"\ud560 \uc77c",taskIds:[]},"column-2":{id:"column-2",title:"\uc9c0\uc5f0 \ub428",taskIds:[]},"column-3":{id:"column-3",title:"\uc9c4\ud589 \uc911",taskIds:[]},"column-4":{id:"column-4",title:"\uc644\ub8cc",taskIds:[]}},columnOrder:["column-1","column-2","column-3","column-4"]}),t=Object(f.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)({projectSeries:[],projectLabels:[],weeklySeries:[{name:"\uc2dc\uac04",data:[]}],weeklyLabels:["1\uc8fc\ucc28","2\uc8fc\ucc28","3\uc8fc\ucc28","4\uc8fc\ucc28"]}),c=Object(f.a)(i,2),u=c[0],s=c[1],l=Object(n.useState)(null),h=Object(f.a)(l,2),d=h[0],p=h[1],v=Object(n.useState)({year:(new Date).getFullYear(),month:(new Date).getMonth()+1}),y=Object(f.a)(v,2),E=y[0],w=y[1];Object(n.useEffect)(function(){var e=m.a.auth().currentUser;e&&p(e.uid)},[]);var j=function(e,t){w(function(r){return Object(T.a)({},r,Object(N.a)({},e,t))})};Object(n.useEffect)(function(){d&&(function(){var e=Object(b.a)(M().mark(function e(){var t,n,a,i,c,u,l,f,m;return M().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Date(E.year,E.month-1,1).toISOString(),n=new Date(E.year,E.month,0).toISOString(),console.log("Fetching data for range: ".concat(t," to ").concat(n)),console.log("Current User ID: ".concat(d)),e.next=7,g.collection("tasks").where("Uesrsid","==",d).where("date",">=",t).where("date","<=",n).get();case 7:if(!(a=e.sent).empty){e.next=13;break}return console.warn("No tasks found for the given filters."),o(function(e){return Object(T.a)({},e,{tasks:[],columns:Object(T.a)({},e.columns,{"column-1":Object(T.a)({},e.columns["column-1"],{taskIds:[]}),"column-2":Object(T.a)({},e.columns["column-2"],{taskIds:[]}),"column-3":Object(T.a)({},e.columns["column-3"],{taskIds:[]}),"column-4":Object(T.a)({},e.columns["column-4"],{taskIds:[]})})})}),s({projectSeries:[],projectLabels:[],weeklySeries:[],weeklyLabels:[]}),e.abrupt("return");case 13:i=a.docs.map(function(e){return Object(T.a)({id:e.id},e.data())}),console.log("Fetched Tasks:",i),c={"column-1":Object(T.a)({},r.columns["column-1"],{taskIds:[]}),"column-2":Object(T.a)({},r.columns["column-2"],{taskIds:[]}),"column-3":Object(T.a)({},r.columns["column-3"],{taskIds:[]}),"column-4":Object(T.a)({},r.columns["column-4"],{taskIds:[]})},i.forEach(function(e){"\ud560\uc77c"===e.status?c["column-1"].taskIds.push(e.id):"\uc9c0\uc5f0"===e.status?c["column-2"].taskIds.push(e.id):"\uc9c4\ud589\uc911"===e.status?c["column-3"].taskIds.push(e.id):"\uc644\ub8cc"===e.status&&c["column-4"].taskIds.push(e.id)}),o(function(e){return Object(T.a)({},e,{tasks:i,columns:c})}),u={},l={},f=[0,0,0,0],i.forEach(function(e){var t=parseFloat(e.spentTime)||0,r=e.projectName||"\uae30\ud0c0",n=new Date(e.date);u[r]=(u[r]||0)+t;var a=Math.floor((n.getDate()-1)/7);l[r]||(l[r]=[0,0,0,0]),l[r][a]+=t,f[a]+=t,console.log("Processing Task:",{id:e.id,projectName:r,spentTime:t,weekIndex:a})}),console.log("Project Time Map:",u),console.log("Weekly Time Map:",f),console.log("Project Weekly Data:",l),m=Object.keys(l).map(function(e){return{name:e,data:l[e]}}),s({projectSeries:Object.values(u),projectLabels:Object.keys(u),weeklySeries:m,weeklyLabels:["1\uc8fc\ucc28","2\uc8fc\ucc28","3\uc8fc\ucc28","4\uc8fc\ucc28"]}),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.error("Error fetching tasks:",e.t0);case 32:case"end":return e.stop()}},e,null,[[0,29]])}));return function(){return e.apply(this,arguments)}}()(),console.log("chartData.projectSeries:",u.projectSeries),console.log("chartData.projectLabels:",u.projectLabels))},[d,E]);var O=function(e,t,r){if(t!==r){var n="column-1"===r?"\ud560\uc77c":"column-2"===r?"\uc9c0\uc5f0":"column-3"===r?"\uc9c4\ud589\uc911":"\uc644\ub8cc";g.collection("tasks").doc(e).update({status:n}),o(function(n){var a,o=n.columns[t],i=n.columns[r],c=o.taskIds.filter(function(t){return t!==e}),u=[].concat(Object(k.a)(i.taskIds),[e]);return Object(T.a)({},n,{columns:Object(T.a)({},n.columns,(a={},Object(N.a)(a,t,Object(T.a)({},o,{taskIds:c})),Object(N.a)(a,r,Object(T.a)({},i,{taskIds:u})),a))})})}},x={chart:{type:"donut"},labels:u.projectLabels,plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0,label:"TOTAL",formatter:function(){var e=u.projectSeries.reduce(function(e,t){return e+t},0);return"".concat(e.toFixed(1)," h")}}}}}},legend:{position:"right",horizontalAlign:"center",fontSize:"15px",formatter:function(e,t){var r=t.seriesIndex,n=u.projectSeries[r].toFixed(1),a=u.projectSeries.reduce(function(e,t){return e+t},0),o=(u.projectSeries[r]/a*100).toFixed(1);return'\n          <div style="display: flex; align-items: flex-start; justify-content: space-between; width: 300px;">\n            <span style="font-weight: bold; color: #333;">'.concat(e,"</span>\n            <span>").concat(n," h (").concat(o,"%)</span>\n          </div>\n        ")}},tooltip:{y:{formatter:function(e){return"".concat(e.toFixed(1)," h")}}}},S={chart:{type:"bar",stacked:!0,height:350},plotOptions:{bar:{horizontal:!1,borderRadius:4,columnWidth:"50%"}},dataLabels:{enabled:!0,total:{enabled:!0,style:{fontSize:"13px",fontWeight:900}}},xaxis:{categories:u.weeklyLabels},yaxis:{title:{text:"\uc2dc\uac04"}},legend:{position:"top",horizontalAlign:"left"},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"".concat(e," h")}}}};return a.a.createElement("div",{className:"my-dashboard"},a.a.createElement("div",{className:"filters"},a.a.createElement("select",{value:E.year,onChange:function(e){return j("year",parseInt(e.target.value))}},[2023,2024,2025].map(function(e){return a.a.createElement("option",{key:e,value:e},e,"\ub144")})),a.a.createElement("select",{value:E.month,onChange:function(e){return j("month",parseInt(e.target.value))}},Object(k.a)(Array(12).keys()).map(function(e){return a.a.createElement("option",{key:e+1,value:e+1},e+1,"\uc6d4")}))),a.a.createElement("div",{className:"dashboard-section"},a.a.createElement("div",{className:"chart-container pie-chart"},a.a.createElement("h3",null,"\uc6d4\uac04 \ud22c\uc785\uc2dc\uac04"),u.projectSeries&&u.projectSeries.length>0?a.a.createElement(P.a,{options:x,series:u.projectSeries,type:"donut",height:300}):a.a.createElement("p",null,"\uc6d4\uac04 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911\uc785\ub2c8\ub2e4...")),a.a.createElement("div",{className:"chart-container bar-chart"},a.a.createElement("h3",null,"\uc8fc\uac04 \ud22c\uc785\uc2dc\uac04"),a.a.createElement(P.a,{options:S,series:u.weeklySeries,type:"bar",height:300}))),a.a.createElement(A.a,{backend:U.a},a.a.createElement("div",{className:"kanban-board"},r.columnOrder.map(function(e){var t=r.columns[e],n=t.taskIds.map(function(e){return r.tasks.find(function(t){return t.id===e})});return a.a.createElement(z,{key:t.id,column:t,tasks:n,moveTask:O})}))))};r(123);var B=function(){var e={name:"\uad50\uc721\ubd80\uc11c",categories:[{id:"category1",name:"\uad50\uc721\uc6b4\uc601",subcategories:[{id:"subcategory1",name:"\uad50\uc721\uacc4\ud68d",subsubcategories:[{id:"subsubcategory1",name:"\uad50\uc721\uc6b4\uc601\uacc4\ud68d\uc11c \uc790\ub8cc\uc218\uc9d1",baseTime:3},{id:"subsubcategory2",name:"\uad50\uc721\uc6b4\uc601\uacc4\ud68d\uc11c \uc791\uc131",baseTime:2},{id:"subsubcategory3",name:"\uad50\uc721\uacfc\uc815 \uc124\uacc4",baseTime:5},{id:"subsubcategory4",name:"\uad50\uc721\uc6b4\uc601\uacc4\ud68d\uc11c\uc2dd\uc57d\ucc98 \ubc1c\uc1a1",baseTime:1}]},{id:"subcategory2",name:"\uad50\uc721\ucf58\ud150\uce20\uac1c\ubc1c",subsubcategories:[{id:"subsubcategory5",name:"\uad50\uc721\ucf58\ud150\uce20 \uac1c\ubc1c \uad00\ub828 \ub370\uc774\ud130 \ucde8\ud569",baseTime:8},{id:"subsubcategory6",name:"\uad50\uc721\ucf58\ud150\uce20 \uac1c\ubc1c \uad00\ub828 \uacc4\ud68d \uc791\uc131 \ubc0f \ubcf4\uace0",baseTime:8},{id:"subsubcategory7",name:"\uad50\uc721\ucf58\ud150\uce20 \uac1c\ubc1c \uc804\ubb38\uac00 \uc704\ucd09",baseTime:2},{id:"subsubcategory8",name:"\uad50\uc721\ucf58\ud150\uce20 \uac1c\ubc1c \uc5c5\uccb4 \uc120\uc815",baseTime:5},{id:"subsubcategory9",name:"\uad50\uc721\ucf58\ud150\uce20 \uac10\uc218",baseTime:4},{id:"subsubcategory10",name:"\uad50\uc721\ucf58\ud150\uce20 \uc774\ub825\uc11c \uc791\uc131(\ud45c\uc900\uad50\uc7ac)",baseTime:8},{id:"subsubcategory11",name:"\uad50\uc721\ucf58\ud150\uce20 \uac1c\uc815\uc0ac\ud56d \ube44\uad50\ud45c \uc791\uc131(\ud45c\uc900\uad50\uc7ac)",baseTime:2},{id:"subsubcategory12",name:"\uac15\uc758\uc790\ub8cc \uac80\ud1a0",baseTime:1},{id:"subsubcategory13",name:"\uac15\uc758\uc790\ub8cc \uc694\uccad/\uc218\uc815\uc694\uccad/\ucde8\ud569/\uc9c1\uc811 \uc218\uc815",baseTime:1},{id:"subsubcategory14",name:"\ucd5c\uc2e0 \uac1c\uc815\uc0ac\ud56d \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uae30\ub85d\uc11c \uc791\uc131",baseTime:1},{id:"subsubcategory15",name:"\uac15\uc758\uc790\ub8cc \uad00\ub9ac",baseTime:10}]},{id:"subcategory3",name:"\uad50\uc721\uc900\ube44",subsubcategories:[{id:"subsubcategory16",name:"\uac15\uc758 \uc900\ube44(\ud604\uc7a5 \uc900\ube44)",baseTime:1},{id:"subsubcategory17",name:"\uac15\uc758 \uc548\ub0b4\uc0ac\ud56d \ubc0f \uc790\ub8cc \uc1a1\ubd80",baseTime:.5},{id:"subsubcategory18",name:"\uac15\uc758\uc790\ub8cc \uc81c\ubcf8 \ubc0f \uc2dd\ub2f9 \uc608\uc57d",baseTime:.5},{id:"subsubcategory19",name:"\uad50\uc721\uc0dd \uc815\ubcf4 \ud655\uc778",baseTime:.2},{id:"subsubcategory20",name:"\uad50\uc721\uc0dd \uc785\uc2e4 \uccb4\ud06c",baseTime:.2}]},{id:"subcategory4",name:"\uad50\uc721\uc9c4\ud589",subsubcategories:[{id:"subsubcategory21",name:"\uc628\ub77c\uc778\uad50\uc721 \uc1a1\ucd9c(\ubb38\uc81c\uc0c1\ud669 \ub300\ucc98)",baseTime:8},{id:"subsubcategory22",name:"\uad50\uc721 \uc6b4\uc601(\ubb38\uc758 \uc751\ub300)",baseTime:8}]},{id:"subcategory5",name:"\uad50\uc721\ud6c4\uc18d\uc870\uce58",subsubcategories:[{id:"subsubcategory23",name:"\uad50\uc721\ub9cc\uc871\ub3c4\uc870\uc0ac \ud1b5\uacc4 \uc815\ub9ac",baseTime:.5},{id:"subsubcategory24",name:"\uad50\uc721\uc218\ub8cc\ucc98\ub9ac \ubc0f \uc2e4\uc801\ubcf4\uace0",baseTime:.5},{id:"subsubcategory25",name:"\uc6d4\ubcc4 \uacb0\uacfc\ubcf4\uace0\uc11c \uc791\uc131 \ubc0f \ubcf4\uace0",baseTime:2},{id:"subsubcategory26",name:"\uad50\uc721\uc6b4\uc601\uc790 \uad50\uc721 \ud6c8\ub828 \uacc4\ud68d\uc218\ub9bd",baseTime:1},{id:"subsubcategory27",name:"\uad50\uc721\uc6b4\uc601\uc790 \uad50\uc721 \ud6c8\ub828 \uc774\uc218",baseTime:8},{id:"subsubcategory28",name:"\uad50\uc721\uc6b4\uc601\uc790 \uad50\uc721 \ud6c8\ub828 \uacb0\uacfc\ubcf4\uace0",baseTime:1}]},{id:"subcategory6",name:"\ud3c9\uac00\ubb38\uc81c",subsubcategories:[{id:"subsubcategory29",name:"\uac15\uc0ac\ubcc4 \ud3c9\uac00\ubb38\uc81c \ucd9c\uc81c \uc694\uccad \ubc0f \ucde8\ud569",baseTime:1},{id:"subsubcategory30",name:"\ud3c9\uac00\ubb38\uc81c \uac80\ud1a0 \ubc0f \uc758\uacac\uc11c \uc791\uc131",baseTime:.5},{id:"subsubcategory31",name:"\ud3c9\uac00\ubb38\uc81c \ucf54\ub4dc \ubd80\uc5ec",baseTime:1},{id:"subsubcategory32",name:"\ud3c9\uac00\ubb38\uc81c \ub4f1\ub85d(\uad50\uc721\ud648\ud398\uc774\uc9c0)",baseTime:.5},{id:"subsubcategory33",name:"\ud3c9\uac00\ubb38\uc81c \uc774\ub825\uad00\ub9ac \ub300\uc7a5 \uc791\uc131",baseTime:.5},{id:"subsubcategory34",name:"\ubb38\uc81c\uc740\ud589 \uc6b4\uc601\ubc29\uc548 \ub9c8\ub828",baseTime:1}]}]},{id:"category2",name:"\uc2dc\uc124_\uc7a5\ube44\uad00\ub9ac",subcategories:[{id:"subcategory7",name:"\uad50\uc721\ud648\ud398\uc774\uc9c0",subsubcategories:[{id:"subsubcategory35",name:"LMS \uac15\uc758\uac1c\uc124",baseTime:.5},{id:"subsubcategory36",name:"\uad50\uc721\ud648\ud398\uc774\uc9c0 \uc624\ub958 \ubc0f \uac1c\uc120\uc0ac\ud56d \ud655\uc778(\uad00\ub9ac\uc790 \ud398\uc774\uc9c0 \ud3ec\ud568)",baseTime:16},{id:"subsubcategory37",name:"\uad50\uc721\ud648\ud398\uc774\uc9c0 \uc218\uc815\uc791\uc5c5 \uc9c0\uc2dc",baseTime:16},{id:"subsubcategory38",name:"\uad50\uc721\ud648\ud398\uc774\uc9c0 \uc218\uc815\uc791\uc5c5 \uac80\uc218",baseTime:16},{id:"subsubcategory39",name:"\uac1c\uc778\uc815\ubcf4\ubcf4\ud638 \ubc95\ub839 \uc900\uc218 \uac80\ud1a0",baseTime:1}]},{id:"subcategory8",name:"\uc1a1\ucd9c_\uc2dc\uc124\uc7a5\ube44",subsubcategories:[{id:"subsubcategory40",name:"\uc13c\ud130 \uc2dc\uc124 \ubcf4\uc548 \ubc0f \uc810\uac80\uc0ac\ud56d \ud30c\uc77c \ucde8\ud569 \ubc0f \uc7ac\uac00\uacf5",baseTime:1},{id:"subsubcategory41",name:"\uc1a1\ucd9c\uc7a5\ube44 \uc624\ub958 \ubc0f \uac1c\uc120\uc0ac\ud56d \ud655\uc778",baseTime:4},{id:"subsubcategory42",name:"\uc1a1\ucd9c\uc7a5\ube44 \uad00\ub828 \uc804\ubb38\uac00 \uc790\ubb38",baseTime:2},{id:"subsubcategory43",name:"\uc1a1\ucd9c\uc7a5\ube44 \uac1c\uc120 \uad00\ub828 \uc7a5\ube44 \uc138\ud305",baseTime:2},{id:"subsubcategory44",name:"\uc1a1\ucd9c\uc7a5\ube44 \uac1c\uc120 \uac80\ud1a0(\ud14c\uc2a4\ud2b8)",baseTime:2},{id:"subsubcategory45",name:"\uc1a1\ucd9c\uc7a5\ube44 \uad00\ub9ac",baseTime:10},{id:"subsubcategory46",name:"VR\uc7a5\ube44 \ub300\uc5ec/\uc810\uac80/\ubc18\ub0a9",baseTime:2}]}]},{id:"category3",name:"\uac15\uc0ac\uad00\ub9ac",subcategories:[{id:"subcategory9",name:"\uac15\uc0ac\uad00\ub9ac\uc804\uccb4",subsubcategories:[{id:"subsubcategory47",name:"\uac15\uc758\uacc4\ud68d\uc11c/\uad6c\ube44\uc11c\ub958 \ucde8\ud569",baseTime:1},{id:"subsubcategory48",name:"\uac15\uc0ac\ubcc4 \uac15\uc758\ubc94\uc704 \uc870\uc0ac \ubc0f \ucde8\ud569",baseTime:.5},{id:"subsubcategory49",name:"\uac15\uc0ac\uc120\uc815 \ubc0f \ubc30\uc815",baseTime:.5},{id:"subsubcategory50",name:"\uac15\uc0ac \uc12d\uc678 / \uc77c\uc815\uc870\uc728",baseTime:1},{id:"subsubcategory51",name:"\uac15\uc0ac\uc704\ucd09\uc790\ub8cc \uc218\uc9d1",baseTime:1},{id:"subsubcategory52",name:"\uac15\uc0ac\uc704\ucd09\uc790\ub8cc \ubd84\uc11d \ubc0f \ud3c9\uac00",baseTime:1},{id:"subsubcategory53",name:"\uac15\uc0ac \uc704\ucd09\uc7a5 \ubc1c\uae09 / \ub300\uc7a5 \uad00\ub9ac",baseTime:.5},{id:"subsubcategory54",name:"\uac15\uc0ac \uc815\ubcf4 \ub4f1\ub85d(LMS)",baseTime:.2},{id:"subsubcategory55",name:"\uc815\uae30\uc801 \uac15\uc0ac\ud3c9\uac00",baseTime:.5},{id:"subsubcategory56",name:"\uc815\uae30\uc801 \uac15\uc0ac\ud3c9\uac00 \ubcf4\uace0 \uc790\ub8cc \uc900\ube44",baseTime:1.5},{id:"subsubcategory57",name:"\uac15\uc0ac\ud3c9\uac00 \uacf5\ubb38 \uc791\uc131 \ubc0f \uc811\uc218",baseTime:.1},{id:"subsubcategory58",name:"\uac15\uc0ac\ud604\ud669 \uac80\ud1a0 \ubc0f POOL/\uc218\uc900 \uad00\ub9ac",baseTime:.2},{id:"subsubcategory59",name:"\ub0b4\uc678\ubd80 \uac15\uc0ac \ud6c8\ub828\uacc4\ud68d\uc548 \uc791\uc131",baseTime:2},{id:"subsubcategory60",name:"\ub0b4\uc678\ubd80\uac15\uc0ac \ud6c8\ub828\uacb0\uacfc\ubcf4\uace0 \uc791\uc131",baseTime:2},{id:"subsubcategory61",name:"\ub0b4\ubd80\uac15\uc0ac \uad50\uc721\uc774\uc218",baseTime:6},{id:"subsubcategory62",name:"\uc804\uc784\uac15\uc0ac \uad50\uc721\uc774\uc218",baseTime:24}]}]},{id:"category4",name:"\uad50\uc721\ud64d\ubcf4",subcategories:[{id:"subcategory10",name:"\uad50\uc721\ud64d\ubcf4\uc900\ube44",subsubcategories:[{id:"subsubcategory63",name:"\ud64d\ubcf4\uacc4\ud68d\uc548 \uc791\uc131",baseTime:4},{id:"subsubcategory64",name:"\ud64d\ubcf4\ubb3c \ucd08\uc548\uc791\uc131",baseTime:3},{id:"subsubcategory65",name:"\ud64d\ubcf4\ubb3c \uc81c\uc791(\ub514\uc790\uc778\uc791\uc5c5)",baseTime:0},{id:"subsubcategory66",name:"\ud64d\ubcf4\ucc98 \uc815\ubcf4 \uc218\uc9d1",baseTime:4}]},{id:"subcategory11",name:"\uad50\uc721\ud64d\ubcf4\uc9c4\ud589",subsubcategories:[{id:"subsubcategory67",name:"\ud64d\ubcf4 \uc9c4\ud589",baseTime:.5}]},{id:"subcategory12",name:"\uad50\uc721\ud64d\ubcf4_\ud6c4\uc18d\uc870\uce58_\uacb0\uacfc\ubcf4\uace0",subsubcategories:[{id:"subsubcategory68",name:"\ud64d\ubcf4 \uacb0\uacfc \uc815\ub9ac \ubc0f \ubcf4\uace0",baseTime:1}]}]},{id:"category5",name:"\uad50\uc721\ud300_\ud589\uc815",subcategories:[{id:"subcategory13",name:"\uc815\uae30\ud68c\uc758",subsubcategories:[{id:"subsubcategory69",name:"\ud68c\uc758\uc790\ub8cc \uc791\uc131(HWP)",baseTime:1},{id:"subsubcategory70",name:"\ud68c\uc758\uc790\ub8cc \uc791\uc131(PPT)",baseTime:5}]},{id:"subcategory14",name:"\uc9c0\ucd9c\uacb0\uc758",subsubcategories:[{id:"subsubcategory71",name:"\uacb0\uc81c \uac74 \uad00\ub828 \uc99d\ube59\uc11c\ub958 \ud655\uc778 \ubc0f \ucde8\ud569 - \uc99d\ube59 \ucde8\ud569\uc774 \ubcf5\uc7a1\ud560 \uacbd\uc6b0",baseTime:1},{id:"subsubcategory72",name:"\uacb0\uc81c \uac74 \uad00\ub828 \uc99d\ube59\uc11c\ub958 \ud655\uc778 \ubc0f \ucde8\ud569 - \ub2e8\uc21c\uc9c0\ucd9c \uc99d\ube59\uc77c \uacbd\uc6b0",baseTime:.1},{id:"subsubcategory73",name:"\uc9c0\ucd9c\uacb0\uc758",baseTime:.2},{id:"subsubcategory74",name:"\uc9d1\ud589\ub4f1\ub85d(\uc774\uc9c0\ubc14\ub85c)",baseTime:.5},{id:"subsubcategory75",name:"\uc9d1\ud589\ub4f1\ub85d(\uc774\ub098\ub77c\ub3c4\uc6c0/RCMS)",baseTime:.2},{id:"subsubcategory76",name:"\uc9d1\ud589\ub4f1\ub85d(NIPA \uc2dc\uc2a4\ud15c)",baseTime:.1},{id:"subsubcategory77",name:"\uc608\uc0b0 \ubcc0\uacbd(\ub354\uc874, \uc5f0\uad6c\uad00\ub9ac\uc2dc\uc2a4\ud15c)",baseTime:.5},{id:"subsubcategory78",name:"\uc9c0\ucd9c\uacc4\ud68d \uc218\ub9bd\uc5d0 \ub300\ud55c \ud589\uc815 \ucc98\ub9ac \uc18c\uc694\uc2dc\uac04",baseTime:1}]},{id:"subcategory15",name:"\ucd9c\uc7a5",subsubcategories:[{id:"subsubcategory79",name:"\ucd9c\uc7a5\uc2e0\uccad\uc11c",baseTime:.2},{id:"subsubcategory80",name:"\ucd9c\uc7a5\ubcf4\uace0\uc11c",baseTime:.5}]},{id:"subcategory16",name:"\ud68c\uc758\ub85d",subsubcategories:[{id:"subsubcategory81",name:"\uc0ac\uc804\ud488\uc758",baseTime:.2},{id:"subsubcategory82",name:"\ud68c\uc758\ub85d \uc791\uc131",baseTime:.6}]},{id:"subcategory17",name:"\uae30\ud0c0",subsubcategories:[{id:"subsubcategory83",name:"\ud611\ud68c \uc5c5\ubb34, \uadfc\ud0dc \uacb0\uc758 \ub4f1",baseTime:.5}]}]},{id:"category6",name:"\uad50\uc721\ud300_\uc218\uc815\uac80\ud1a0",subcategories:[{id:"subcategory18",name:"\uad50\uc721\ud300_\uc218\uc815\uac80\ud1a0\uc5c5\ubb34",subsubcategories:[{id:"subsubcategory84",name:"\uac04\ub2e8\uac80\ud1a0(1\uc2dc\uac04\ub0b4)",baseTime:1},{id:"subsubcategory85",name:"\uc0c1\uc138\uac80\ud1a0(3\uc2dc\uac04\ub0b4)",baseTime:3}]}]},{id:"category7",name:"\uad50\uc721\ud300_\uae30\ud0c0",subcategories:[{id:"subcategory19",name:"\uad50\uc721_\uae30\ud0c0",subsubcategories:[{id:"subsubcategory86",name:"\ud0c0\ubd80\uc11c\uc9c0\uc6d0",baseTime:1},{id:"subsubcategory87",name:"\ud68c\uc758\ucc38\uc11d",baseTime:1},{id:"subsubcategory88",name:"\uc218\uac15 \uc2e0\uccad \ud604\ud669 \uc815\ub9ac \ubc0f \uc5c5\ub370\uc774\ud2b8",baseTime:.5},{id:"subsubcategory89",name:"\uc218\uac15\uc0dd DB \uad00\ub9ac \ubc0f \uc5c5\ub370\uc774\ud2b8",baseTime:1},{id:"subsubcategory90",name:"\uc624\ud504\ub77c\uc778 \uac15\uc758\uc7a5 \ub300\uad00 \uc6b4\uc601 \uc9c0\uc6d0",baseTime:2},{id:"subsubcategory91",name:"\uc13c\ud130 \ubb38\uc758 \ub300\uc751",baseTime:.1}]}]}]};return a.a.createElement("div",{className:"add-department-container"},a.a.createElement("button",{className:"add-department-button",onClick:function(){g.collection("departments").doc("education").set(e).then(function(){return console.log("Department data added successfully!")}).catch(function(e){return console.error("Error adding department data:",e)})}},"Add Department"))};r(124);function J(){J=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var f={};function m(){}function h(){}function d(){}var p={};u(p,o,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(N([])));v&&v!==t&&r.call(v,o)&&(p=v);var g=d.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(u.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),u(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(g),u(g,c,"Generator"),u(g,o,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var W=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(["\uc804\uccb4"]),c=Object(f.a)(i,2),u=c[0],s=c[1],l=Object(n.useState)(["\uc804\uccb4"]),m=Object(f.a)(l,2),h=m[0],d=m[1],p=Object(n.useState)([]),v=Object(f.a)(p,2),y=v[0],E=v[1],w=Object(n.useState)({project:"\uc0ac\uc5c5\uba85",team:"\ubd80\uc11c\uba85",employee:"\uc9c1\uc6d0\uba85",year:(new Date).getFullYear().toString(),month:((new Date).getMonth()+1).toString()}),j=Object(f.a)(w,2),O=j[0],x=j[1],S=Object(n.useState)({projectSeries:[],projectLabels:[],weeklySeries:[],weeklyLabels:["1\uc8fc\ucc28","2\uc8fc\ucc28","3\uc8fc\ucc28","4\uc8fc\ucc28"]}),L=Object(f.a)(S,2),_=L[0],D=L[1];Object(n.useEffect)(function(){!function(){var e=Object(b.a)(J().mark(function e(){var t,r,n,a,i,c,u,l,f,m;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("projects").get();case 2:if(t=e.sent,r=t.docs.map(function(e){return Object(T.a)({id:e.id},e.data())}),o([{name:"\uc0ac\uc5c5\uba85",id:"all"}].concat(Object(k.a)(r))),!(n=localStorage.getItem("totaladmin_tasks"))){e.next=14;break}a=JSON.parse(n),i=["\ubd80\uc11c\uba85"].concat(Object(k.a)(new Set(a.map(function(e){return e.userTeam}).filter(Boolean)))),c=["\uc9c1\uc6d0\uba85"].concat(Object(k.a)(new Set(a.map(function(e){return e.userName}).filter(Boolean)))),s(i),d(c),e.next=22;break;case 14:return e.next=16,g.collection("tasks").get();case 16:u=e.sent,l=u.docs.map(function(e){return Object(T.a)({id:e.id},e.data())}),f=["\ubd80\uc11c\uba85"].concat(Object(k.a)(new Set(l.map(function(e){return e.userTeam}).filter(Boolean)))),m=["\uc9c1\uc6d0\uba85"].concat(Object(k.a)(new Set(l.map(function(e){return e.userName}).filter(Boolean)))),s(f),d(m);case 22:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),Object(n.useEffect)(function(){!function(){var e=localStorage.getItem("totaladmin_tasks");if(e){var t=JSON.parse(e);t=t.filter(function(e){var t=new Date(e.date),r=t.getFullYear(),n=t.getMonth()+1,a=r===parseInt(O.year)&&n===parseInt(O.month),o="\uc0ac\uc5c5\uba85"===O.project||e.projectName===O.project,i="\ubd80\uc11c\uba85"===O.team||e.userTeam===O.team,c="\uc9c1\uc6d0\uba85"===O.employee||e.userName===O.employee;return a&&o&&i&&c}),E(t);var r={},n={},a=[0,0,0,0];t.forEach(function(e){var t=parseFloat(e.spentTime)||0,o=e.projectName||"\uae30\ud0c0",i=new Date(e.date),c=Math.floor((i.getDate()-1)/7);r[o]=Number(((r[o]||0)+t).toFixed(1)),n[o]||(n[o]=[0,0,0,0]),n[o][c]=Number((n[o][c]+t).toFixed(1)),a[c]=Number((a[c]+t).toFixed(1))});var o=Object.keys(n).map(function(e){return{name:e,data:n[e].map(function(e){return Number(e.toFixed(1))})}});D({projectSeries:Object.values(r).map(function(e){return Number(e.toFixed(1))}),projectLabels:Object.keys(r),weeklySeries:o,weeklyLabels:["1\uc8fc\ucc28","2\uc8fc\ucc28","3\uc8fc\ucc28","4\uc8fc\ucc28"]})}}()},[O]);var F=function(e,t){x(function(r){return Object(T.a)({},r,Object(N.a)({},e,t))})},I={chart:{type:"donut"},labels:_.projectLabels,plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0,label:"TOTAL",formatter:function(){return"".concat(_.projectSeries.reduce(function(e,t){return e+t},0).toFixed(1)," h")}}}}}},legend:{position:"right",horizontalAlign:"center",fontSize:"15px",formatter:function(e,t){var r=t.seriesIndex,n=_.projectSeries[r],a=(n/_.projectSeries.reduce(function(e,t){return e+t},0)*100).toFixed(1);return'\n          <div style="display: flex; align-items: flex-start; justify-content: space-between; width: 300px;">\n            <span style="font-weight: bold; color: #333;">'.concat(e,"</span>\n            <span>").concat(n," h (").concat(a,"%)</span>\n          </div>\n        ")}},tooltip:{y:{formatter:function(e){return"".concat(e," h")}}}},G={chart:{type:"bar",stacked:!0,height:350},plotOptions:{bar:{horizontal:!1,borderRadius:4,columnWidth:"50%"}},dataLabels:{enabled:!0,total:{enabled:!0,style:{fontSize:"13px",fontWeight:900}}},xaxis:{categories:_.weeklyLabels},yaxis:{title:{text:"\uc2dc\uac04"}},legend:{position:"top",horizontalAlign:"left"},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"".concat(e," h")}}}};return a.a.createElement("div",{className:"admindash"},a.a.createElement("div",{className:"admindash-filters-container"},a.a.createElement("div",{className:"admindash-filters-left"},a.a.createElement("select",{onChange:function(e){return F("project",e.target.value)}},r.map(function(e){return a.a.createElement("option",{key:e.id,value:e.name},e.name)})),a.a.createElement("select",{onChange:function(e){return F("team",e.target.value)},value:O.team},u.map(function(e){return a.a.createElement("option",{key:e,value:e},e)})),a.a.createElement("select",{onChange:function(e){return F("employee",e.target.value)},value:O.employee},h.map(function(e){return a.a.createElement("option",{key:e,value:e},e)}))),a.a.createElement("div",{className:"admindash-filters-right"},a.a.createElement("select",{onChange:function(e){return F("year",e.target.value)},value:O.year},Array.from({length:5},function(e,t){return(new Date).getFullYear()-t}).map(function(e){return a.a.createElement("option",{key:e,value:e},e,"\ub144")})),a.a.createElement("select",{onChange:function(e){return F("month",e.target.value)},value:O.month},Array.from({length:12},function(e,t){return t+1}).map(function(e){return a.a.createElement("option",{key:e,value:e},e,"\uc6d4")})))),a.a.createElement("div",{className:"admindash-section"},a.a.createElement("div",{className:"admindash-chart-container pie-chart"},a.a.createElement("h3",null,"\uc6d4\uac04 \ud22c\uc785\uc2dc\uac04"),a.a.createElement(P.a,{options:I,series:_.projectSeries,type:"donut",height:300})),a.a.createElement("div",{className:"admindash-chart-container bar-chart"},a.a.createElement("h3",null,"\uc8fc\uac04 \ud22c\uc785\uc2dc\uac04"),a.a.createElement(P.a,{options:G,series:_.weeklySeries,type:"bar",height:300}))),a.a.createElement(A.a,{backend:U.a},a.a.createElement("div",{className:"admindash-kanban-board"},["\ud560\uc77c","\uc9c0\uc5f0","\uc9c4\ud589\uc911","\uc644\ub8cc"].map(function(e){return a.a.createElement("div",{key:e,className:"admindash-kanban-column"},a.a.createElement("h3",null,e),y.filter(function(t){return t.status===e}).map(function(e){return a.a.createElement("div",{key:e.id,className:"admindash-kanban-task"},a.a.createElement("div",{className:"task-header"},a.a.createElement("strong",null,e.projectName),a.a.createElement("span",{className:"team-info"},e.userName,"/",e.userTeam)),a.a.createElement("div",{className:"task-content"},a.a.createElement("div",{className:"task-row"},e.subcategoriesName&&a.a.createElement("div",{className:"subcategory-box"},e.subcategoriesName),a.a.createElement("div",{className:"task-time"},Number(e.baseTime),"/",Number(e.spentTime).toFixed(1),"/",Number(e.remainingTime)<0?a.a.createElement("span",{style:{color:"red"}},"\uc9c0\uc5f0"):Number(e.remainingTime).toFixed(1)))),a.a.createElement("div",{className:"task-note"},e.note))}))}))))};r(125);function q(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K(){K=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var f={};function m(){}function h(){}function d(){}var p={};u(p,o,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(N([])));v&&v!==t&&r.call(v,o)&&(p=v);var g=d.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(u.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),u(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(g),u(g,c,"Generator"),u(g,o,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Q=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),r=t[0],o=t[1],i=function(){var e=Object(b.a)(K().mark(function e(t){var r,n,a,i,c;return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=Array.from(t.target.files)).length){e.next=3;break}return e.abrupt("return");case 3:n=[],a=K().mark(function e(){var t,r;return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c[i],e.next=3,new Promise(function(e,r){var n=new FileReader;n.onload=function(n){try{var a=JSON.parse(n.target.result);e(a)}catch(o){console.error("JSON \ud30c\uc2f1 \uc624\ub958 (".concat(t.name,"):"),o),r(o)}},n.readAsText(t)});case 3:r=e.sent,Array.isArray(r)?n=[].concat(Object(k.a)(n),Object(k.a)(r)):n.push(r);case 5:case"end":return e.stop()}},e)}),i=0,c=r;case 6:if(!(i<c.length)){e.next=11;break}return e.delegateYield(a(),"t0",8);case 8:i++,e.next=6;break;case 11:localStorage.setItem("totaladmin_tasks",JSON.stringify(n)),localStorage.setItem("totaladmin_timestamp",(new Date).getTime().toString()),o(n),console.log("\ucd1d ".concat(n.length,"\uac1c\uc758 \ub370\uc774\ud130\uac00 \ub85c\uceec \uc2a4\ud1a0\ub9ac\uc9c0\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(b.a)(K().mark(function e(){var t,n,a,o,i;return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=m.a.firestore(),n=t.collection("tasks"),a=q(r),e.prev=4,a.s();case 6:if((o=a.n()).done){e.next=12;break}return i=o.value,e.next=10,n.add(i);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:console.log("Task data added successfully!"),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(0),console.error("Error adding task data:",e.t1);case 26:case"end":return e.stop()}},e,null,[[0,23],[4,14,17,20]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"add-task-container"},a.a.createElement("input",{type:"file",accept:".json",multiple:!0,onChange:i}),a.a.createElement("button",{className:"add-task-button",onClick:c},"Add Task"))};r(126);function X(){X=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var f={};function m(){}function h(){}function d(){}var p={};u(p,o,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(N([])));v&&v!==t&&r.call(v,o)&&(p=v);var g=d.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(u.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),u(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(g),u(g,c,"Generator"),u(g,o,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var V=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(20),c=Object(f.a)(i,2),u=c[0],s=c[1],l=Object(n.useState)(0),m=Object(f.a)(l,2),h=(m[0],m[1]),d=Object(n.useState)({yearlyTotal:{series:[0],labels:["\uc0ac\uc6a9 \uc2dc\uac04"]},monthlySeries:[]}),p=Object(f.a)(d,2),v=p[0],y=p[1],E=Object(n.useState)([{name:"\uc0ac\uc5c5\uba85",id:"all"}]),w=Object(f.a)(E,2),j=w[0],O=w[1],x=Object(n.useState)(["\ubd80\uc11c\uba85"]),S=Object(f.a)(x,2),L=(S[0],S[1]),_=Object(n.useState)(["\uc9c1\uc6d0\uba85"]),D=Object(f.a)(_,2),F=D[0],I=D[1],G=Object(n.useState)({project:"\uc0ac\uc5c5\uba85",team:"\ubd80\uc11c\uba85",employee:"\uc9c1\uc6d0\uba85",startDate:"",endDate:""}),C=Object(f.a)(G,2),M=C[0],Y=C[1],z=Object(n.useState)([]),R=Object(f.a)(z,2),B=(R[0],R[1]),J="totaladmin_tasks",W=["HbwbeTXYxtqqP38ZwpaZ"],q=function(){var e=Object.keys(localStorage),t=0;e.forEach(function(e){t+=localStorage.getItem(e).length}),h(t),console.log("Local Storage Size: ".concat(t," bytes"))};Object(n.useEffect)(function(){!function(){var e=Object(b.a)(X().mark(function e(){var t,r,n,a,i,c,u,s,l,f;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem(J),r=localStorage.getItem("totaladmin_timestamp"),n=(new Date).getTime(),!(t&&r&&n-parseInt(r)<6048e5)){e.next=9;break}return a=JSON.parse(t),o(a),H(a),q(),e.abrupt("return");case 9:return e.prev=9,i=(new Date).getFullYear(),c=new Date(i,0,1).toISOString().split("T")[0],u=new Date(i,11,31).toISOString().split("T")[0],s=g.collection("tasks").where("date",">=",c).where("date","<=",u),e.next=16,s.get();case 16:l=e.sent,f=l.docs.map(function(e){return Object(T.a)({id:e.id},e.data())}),localStorage.setItem(J,JSON.stringify(f)),localStorage.setItem("totaladmin_timestamp",n.toString()),o(f),H(f),q(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(9),console.error("\ud0dc\uc2a4\ud06c \uc870\ud68c \uc911 \uc624\ub958 \ubc1c\uc0dd:",e.t0);case 28:case"end":return e.stop()}},e,null,[[9,25]])}));return function(){return e.apply(this,arguments)}}()()},[]);var H=function(e){var t=e.filter(function(e){return"\uc9c1\uc6d0\uba85"!==M.employee&&e.userName===M.employee}),r={},n=Array(12).fill(0),a=0,o=new Set;if(t.forEach(function(e){var t=e.id||"".concat(e.date,"-").concat(e.projectName);if(!o.has(t)){o.add(t);var i=parseFloat(e.spentTime)||0,c=e.projectName||"\uae30\ud0c0",u=new Date(e.date).getMonth();r[c]||(r[c]=0),r[c]+=i,n[u]+=i,a+=i}}),a>0){var i=Object.entries(r).sort(function(e,t){return t[1]-e[1]}).filter(function(e){var t=Object(f.a)(e,2);return t[0],t[1]>0}),c=a,u=i.map(function(e){var t=Object(f.a)(e,2);return t[0],t[1]}),s=i.map(function(e){var t=Object(f.a)(e,2),r=t[0];return t[1],r});y({yearlyTotal:{series:u,labels:s,total:c},monthlySeries:[{name:"\uc6d4\ubcc4 \ud22c\uc785\uc2dc\uac04",data:n}]})}else y({yearlyTotal:{series:[],labels:[],total:0},monthlySeries:[{name:"\uc6d4\ubcc4 \ud22c\uc785\uc2dc\uac04",data:Array(12).fill(0)}]})},K={chart:{type:"donut"},labels:v.yearlyTotal.labels,plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0,label:"TOTAL",formatter:function(e){var t=v.yearlyTotal.total;return"\uc0ac\uc5c5\uba85"!==M.project?"".concat(M.project,"\n").concat(t.toFixed(1)," h"):"\uc9c1\uc6d0\uba85"!==M.employee?"".concat(M.employee,"\n").concat(t.toFixed(1)," h"):"\uc0ac\uc5c5/\uc9c1\uc6d0 \uc120\ud0dd"}}}}}},tooltip:{y:{formatter:function(e){return"".concat((e/2).toFixed(1),"h")}}},legend:{position:"right",formatter:function(e,t){if(!t||!t.w||!t.w.globals||!t.w.globals.series)return"".concat(e," - 0.0h (0.0%)");var r=(t.w.globals.series[t.seriesIndex]||0)/2,n=(v.yearlyTotal.total||0)/2;if(0===n)return"".concat(e," - ").concat(r.toFixed(1),"h (0.0%)");var a=(r/n*100).toFixed(1);return"".concat(e," - ").concat(r.toFixed(1),"h (").concat(a,"%)")}}},Q=function(e){return"number"===typeof e?e.toFixed(1):"0.0"},V=Object(n.useState)(null),Z=Object(f.a)(V,2),$=Z[0],ee=Z[1],te=Object(n.useState)({chart:{type:"bar",stacked:!0,toolbar:{show:!0},events:{dataPointSelection:function(e,t,r){var n=r.w.globals.labels[r.dataPointIndex];ee(n),se("\uc804\uccb4")}}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},xaxis:{categories:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],labels:{show:!0,rotate:-45,style:{fontSize:"12px"}}},yaxis:{title:{text:"\uc18c\uc694\uc2dc\uac04 (\uc2dc\uac04)"},labels:{formatter:function(e){return Q(e)}}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"".concat(Q(e),"h")}}},dataLabels:{enabled:!0,formatter:function(e){return Q(e)}}}),re=Object(f.a)(te,2),ne=re[0],ae=re[1],oe=function(){var e=Object(b.a)(X().mark(function e(){var t,r,n,a,i,c,u,s,l,f,m,h;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=(new Date).getFullYear(),r=localStorage.getItem(J),n=r?JSON.parse(r):[],a=n.filter(function(e){return!W.includes(e.Uesrsid)}),i=[],c=0,u=W;case 7:if(!(c<u.length)){e.next=18;break}return s=u[c],l=g.collection("tasks").where("Uesrsid","==",s).where("date",">=","".concat(t,"-01-01")).where("date","<=","".concat(t,"-12-31")),e.next=12,l.get();case 12:f=e.sent,m=f.docs.map(function(e){return Object(T.a)({id:e.id},e.data())}),i=[].concat(Object(k.a)(i),Object(k.a)(m));case 15:c++,e.next=7;break;case 18:h=[].concat(Object(k.a)(a),Object(k.a)(i)),localStorage.setItem(J,JSON.stringify(h)),localStorage.setItem("totaladmin_timestamp",(new Date).getTime().toString()),o(h),H(h),q(),alert("".concat(W.length,"\uba85\uc758 \uc0ac\uc6a9\uc790 \ub370\uc774\ud130\uac00 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. (").concat(i.length,"\uac1c)")),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(0),console.error("\ub370\uc774\ud130 \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e.t0),alert("\ub370\uc774\ud130 \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");case 31:case"end":return e.stop()}},e,null,[[0,27]])}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){!function(){var e=Object(b.a)(X().mark(function e(){var t,r;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.collection("projects").get();case 2:t=e.sent,r=t.docs.map(function(e){return Object(T.a)({id:e.id},e.data())}),O([{name:"\uc0ac\uc5c5\uba85",id:"all"}].concat(Object(k.a)(r)));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),Object(n.useEffect)(function(){if(r.length>0){var e=["\ubd80\uc11c\uba85"].concat(Object(k.a)(new Set(r.map(function(e){return e.userTeam}).filter(Boolean)))),t=["\uc9c1\uc6d0\uba85"].concat(Object(k.a)(new Set(r.map(function(e){return e.userName}).filter(Boolean))));L(e),I(t)}},[r]);var ie=Object(n.useState)("\uc804\uccb4"),ce=Object(f.a)(ie,2),ue=ce[0],se=ce[1],le=function(){return r.filter(function(e){var t="\uc0ac\uc5c5\uba85"===M.project||e.projectName===M.project,r="\ubd80\uc11c\uba85"===M.team||e.userTeam===M.team,n="\uc9c1\uc6d0\uba85"===M.employee||e.userName===M.employee,a=!$||e.categoriesName===$,o="\uc804\uccb4"===ue||e.subcategoriesName===ue,i=new Date(e.date),c=(!M.startDate||i>=new Date(M.startDate))&&(!M.endDate||i<=new Date(M.endDate));return t&&r&&n&&c&&a&&o})},fe=function(){var e=Object(b.a)(X().mark(function e(t,r){var n,a,o,i,c,u,s,l,m,h,d,p,b;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"employee"===t?(n=Object(T.a)({},M,{employee:r,project:"\uc0ac\uc5c5\uba85"}),Y(n),(a=document.querySelector('select[name="project"]'))&&(a.value=""),(o=localStorage.getItem(J))&&(i=JSON.parse(o),"\uc9c1\uc6d0\uba85"!==r?(c=i.filter(function(e){return e.userName===r}),u={},s=0,l=new Set,c.forEach(function(e){var t=e.projectName||"\ubbf8\uc9c0\uc815",r=parseFloat(e.spentTime)||0;u[t]||(u[t]=0),u[t]+=r,s+=r}),m=Array(12).fill().map(function(){var e={};return l.forEach(function(t){e[t]=0}),e}),c.forEach(function(e){var t=e.projectName||"\ubbf8\uc9c0\uc815",r=parseFloat(e.spentTime)||0;u[t]||(u[t]=0),u[t]+=r,s+=r;var n=new Date(e.date).getMonth();n>=0&&n<12&&(m[n][t]=(m[n][t]||0)+r)}),h=Object.entries(u).sort(function(e,t){return t[1]-e[1]}).filter(function(e){var t=Object(f.a)(e,2);return t[0],t[1]>0}),y({yearlyTotal:{series:h.map(function(e){var t=Object(f.a)(e,2);return t[0],t[1]}),labels:h.map(function(e){var t=Object(f.a)(e,2),r=t[0];return t[1],r}),total:s/2},monthlySeries:h.map(function(e){var t=Object(f.a)(e,2),r=t[0];return t[1],{name:r,data:m.map(function(e){return e[r]||0})}})}),ae({chart:{type:"bar",stacked:!0,toolbar:{show:!0}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},xaxis:{categories:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],title:{text:"\uc6d4\ubcc4"},labels:{show:!0,rotate:-45,style:{fontSize:"12px"}}},yaxis:{title:{text:"\uc18c\uc694\uc2dc\uac04 (\uc2dc\uac04)"},labels:{formatter:function(e){return Q(e)}}},fill:{opacity:1},colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#546E7A","#26a69a","#D10CE8"],tooltip:{y:{formatter:function(e){return"".concat(Q(e),"h")}}},dataLabels:{enabled:!0,formatter:function(e){return Q(e)}},legend:{show:!1}})):H(i))):(n=Object(T.a)({},M,Object(N.a)({},t,r)),Y(n),(d=localStorage.getItem(J))&&(p=JSON.parse(d),b=p.filter(function(e){var t="\ubd80\uc11c\uba85"===M.team||e.userTeam===M.team,r="\uc9c1\uc6d0\uba85"===M.employee||e.userName===M.employee,n=new Date(e.date),a=(!M.startDate||n>=new Date(M.startDate))&&(!M.endDate||n<=new Date(M.endDate));return t&&r&&a}),H(b)));case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),me=function(){var e=Object(b.a)(X().mark(function e(t){var r,n,a,o,i,c,u;return X().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Y(Object(T.a)({},M,{employee:"\uc9c1\uc6d0\uba85",project:t})),!(r=localStorage.getItem(J))){e.next=17;break}if(n=JSON.parse(r),t&&"\uc0ac\uc5c5\uba85"!==t){e.next=8;break}return B(n),H(n),e.abrupt("return");case 8:a=n.filter(function(e){return e.projectName===t}),B(a),o={},i={},c=0,a.forEach(function(e){var t=e.userName||"\ubbf8\uc9c0\uc815",r=e.categoriesName||"\ubbf8\ubd84\ub958",n=parseFloat(e.spentTime)||0;o[t]||(o[t]=0),o[t]+=n,i[r]||(i[r]=0),i[r]+=n,c+=n}),u=Object.entries(i).sort(function(e,t){return t[1]-e[1]}).filter(function(e){var t=Object(f.a)(e,2);return t[0],t[1]>0}),y({yearlyTotal:{series:u.map(function(e){var t=Object(f.a)(e,2);return t[0],t[1]}),labels:u.map(function(e){var t=Object(f.a)(e,2),r=t[0];return t[1],r}),total:c},monthlySeries:[{name:"\uc5c5\ubb34 \uce74\ud14c\uace0\ub9ac\ubcc4 \uc2dc\uac04",data:u.map(function(e){var t=Object(f.a)(e,2);return t[0],t[1]})}]}),ae({chart:{type:"bar",height:400,toolbar:{show:!0}},plotOptions:{bar:{horizontal:!0,columnWidth:"55%",distributed:!0}},tooltip:{custom:function(e){e.seriesIndex;var t=e.dataPointIndex,r=e.w,n=r.globals.labels[t],o=r.globals.series[0][t],i=a.filter(function(e){return e.categoriesName===n}).reduce(function(e,t){var r=t.subcategoriesName||"\ubbf8\ubd84\ub958";return e[r]||(e[r]=0),e[r]+=parseFloat(t.spentTime)||0,e},{}),c=Object.entries(i).sort(function(e,t){var r=Object(f.a)(e,2)[1];return Object(f.a)(t,2)[1]-r}).map(function(e){var t=Object(f.a)(e,2),r=t[0],n=t[1];return"".concat(r,": ").concat(n.toFixed(1),"h")});return'\n              <div class="custom-tooltip">\n                <div class="tooltip-title">'.concat(n,'</div>\n                <div class="tooltip-total">\ucd1d \uc2dc\uac04: ').concat(o.toFixed(1),'h</div>\n                <div class="tooltip-subcategories">\n                  ').concat(c.join("<br>"),"\n                </div>\n              </div>\n            ")}},dataLabels:{enabled:!0,formatter:function(e){return"".concat(e.toFixed(1),"h")}},xaxis:{categories:u.map(function(e){return Object(f.a)(e,1)[0]}),title:{text:"\uc18c\uc694\uc2dc\uac04 (\uc2dc\uac04)"},labels:{formatter:function(e){return(parseFloat(e)||0).toFixed(1)}}},yaxis:{title:{text:"\uc5c5\ubb34 \uce74\ud14c\uace0\ub9ac"}},title:{text:"".concat(t," - \uc5c5\ubb34 \uce74\ud14c\uace0\ub9ac\ubcc4 \uc2dc\uac04"),align:"center"},legend:{show:!1},colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#546E7A","#26a69a","#D10CE8"]});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"totaladmin"},a.a.createElement("div",{className:"refresh-button-container",style:{padding:"10px",textAlign:"right"}},a.a.createElement("button",{onClick:oe,style:{padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ub370\uc774\ud130 \uc0c8\ub85c\uace0\uce68")),a.a.createElement("div",{className:"totaladmin-filters-container"},a.a.createElement("div",{className:"totaladmin-filters-left"},a.a.createElement("select",{name:"project",value:M.project,onChange:function(e){return me(e.target.value)},style:{marginRight:"10px"}},a.a.createElement("option",{value:"\uc0ac\uc5c5\uba85"},"\uc0ac\uc5c5 \uc120\ud0dd"),j.map(function(e){return a.a.createElement("option",{key:e.id,value:e.name},e.name)})),a.a.createElement("select",{value:M.employee,onChange:function(e){return fe("employee",e.target.value)},disabled:"\uc0ac\uc5c5\uba85"!==M.project},a.a.createElement("option",{value:"\uc9c1\uc6d0\uba85"},"\uc9c1\uc6d0 \uc120\ud0dd"),F.map(function(e){return a.a.createElement("option",{key:e,value:e},e)})),a.a.createElement("input",{type:"date",value:M.startDate,onChange:function(e){return fe("startDate",e.target.value)}}),a.a.createElement("span",null," ~ "),a.a.createElement("input",{type:"date",value:M.endDate,onChange:function(e){return fe("endDate",e.target.value)}}))),a.a.createElement("div",{className:"totaladmin-charts"},a.a.createElement("div",{className:"chart-container yearly-chart"},a.a.createElement("h3",null,"2024\ub144 \uc5f0\uac04 \uc18c\uc694\uc2dc\uac04"),a.a.createElement(P.a,{options:K,series:v.yearlyTotal.series,type:"donut",height:300})),a.a.createElement("div",{className:"chart-container monthly-chart"},a.a.createElement("h3",null,"2024\ub144 \uc6d4\ubcc4 \uc18c\uc694\uc2dc\uac04"),a.a.createElement(P.a,{options:ne,series:v.monthlySeries,type:"bar",height:400}))),$&&a.a.createElement("div",{className:"category-filter-container"},a.a.createElement("div",{className:"category-header"},a.a.createElement("h3",null,M.project," - ",$),a.a.createElement("div",{className:"subcategory-filter"},a.a.createElement("select",{value:ue,onChange:function(e){return se(e.target.value)},className:"subcategory-select"},function(){if(!$)return[];var e=localStorage.getItem(J);if(!e)return[];var t=JSON.parse(e).filter(function(e){return e.categoriesName===$&&("\uc0ac\uc5c5\uba85"===M.project||e.projectName===M.project)}).map(function(e){return e.subcategoriesName}).filter(function(e,t,r){return e&&r.indexOf(e)===t});return["\uc804\uccb4"].concat(Object(k.a)(t))}().map(function(e){return a.a.createElement("option",{key:e,value:e},e)}))))),a.a.createElement(A.a,{backend:U.a},a.a.createElement("div",{className:"totaladmin-kanban-board",onScroll:function(e){var t=e.target,r=t.scrollTop,n=t.clientHeight;if(t.scrollHeight-r<=n+100){var a=le().length;u<a&&s(function(e){return e+20})}}},["\ud560\uc77c","\uc9c0\uc5f0","\uc9c4\ud589\uc911","\uc644\ub8cc"].map(function(e){return a.a.createElement("div",{key:e,className:"totaladmin-kanban-column"},a.a.createElement("h3",null,e," (",le().filter(function(t){return t.status===e}).length,")"),le().filter(function(t){return t.status===e}).slice(0,u).map(function(e){return a.a.createElement("div",{key:e.id,className:"totaladmin-kanban-task"},a.a.createElement("div",{className:"task-header"},a.a.createElement("strong",null,e.projectName),a.a.createElement("span",{className:"team-info"},e.userName,"/",e.userTeam)),a.a.createElement("div",{className:"task-content"},a.a.createElement("div",{className:"task-row"},e.subcategoriesName&&a.a.createElement("div",{className:"subcategory-box"},e.subcategoriesName),a.a.createElement("div",{className:"task-time"},Number(e.baseTime),"/",Number(e.spentTime).toFixed(1),"/",Number(e.remainingTime)<0?a.a.createElement("span",{style:{color:"red"}},"\uc9c0\uc5f0"):Number(e.remainingTime).toFixed(1)))),a.a.createElement("div",{className:"task-note"},e.note))}))}))),a.a.createElement("div",{className:"employee-stats-table"},a.a.createElement("h3",null,"\uc9c1\uc6d0\ubcc4 \ud1b5\uacc4"),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"\uc21c\uc704"),a.a.createElement("th",null,"\uc9c1\uc6d0\uba85"),a.a.createElement("th",null,"\uccab \uc791\uc131\uc77c"),a.a.createElement("th",null,"\ub9c8\uc9c0\ub9c9 \uc791\uc131\uc77c"),a.a.createElement("th",null,"\uc791\uc131\uc77c\uc218"),a.a.createElement("th",null,"\uae30\uc900\uc2dc\uac04"),a.a.createElement("th",null,"\uc18c\uc694\uc2dc\uac04"))),a.a.createElement("tbody",null,function(){var e={},t=M.startDate?new Date(M.startDate):null,n=M.endDate?new Date(M.endDate):null;return r.filter(function(e){var r=new Date(e.date);return(!t||r>=t)&&(!n||r<=n)}).forEach(function(t){var r=new Date(t.date);e[t.userName]||(e[t.userName]={totalSpentTime:0,totalRemainingTime:0,overdueTasks:0,firstTaskDate:null,lastTaskDate:null,workingDays:0,standardTime:0}),(!e[t.userName].firstTaskDate||r<new Date(e[t.userName].firstTaskDate))&&(e[t.userName].firstTaskDate=t.date),(!e[t.userName].lastTaskDate||r>new Date(e[t.userName].lastTaskDate))&&(e[t.userName].lastTaskDate=t.date),e[t.userName].totalSpentTime+=Number(t.spentTime)||0,e[t.userName].totalRemainingTime+=Number(t.remainingTime)||0,Number(t.remainingTime)<0&&(e[t.userName].overdueTasks+=1)}),Object.values(e).forEach(function(e){for(var r=new Date(Math.max(t?t.getTime():new Date(e.firstTaskDate).getTime(),new Date(e.firstTaskDate).getTime())),a=new Date(Math.min(n?n.getTime():new Date(e.lastTaskDate).getTime(),new Date(e.lastTaskDate).getTime())),o=0,i=new Date(r);i<=a;i.setDate(i.getDate()+1))0!==i.getDay()&&6!==i.getDay()&&o++;e.workingDays=o,e.standardTime=8*o}),Object.entries(e).map(function(e){var t=Object(f.a)(e,2),r=t[0],n=t[1];return Object(T.a)({name:r},n)}).filter(function(e){return e.workingDays>0}).sort(function(e,t){return t.totalSpentTime-e.totalSpentTime})}().map(function(e,t){return a.a.createElement("tr",{key:e.name},a.a.createElement("td",null,t+1),a.a.createElement("td",{className:e.isNewEmployee?"new-employee":""},e.name),a.a.createElement("td",null,new Date(e.firstTaskDate).toLocaleDateString()),a.a.createElement("td",null,new Date(e.lastTaskDate).toLocaleDateString()),a.a.createElement("td",null,e.workingDays,"\uc77c"),a.a.createElement("td",null,e.standardTime.toFixed(1),"h"),a.a.createElement("td",null,e.totalSpentTime.toFixed(1),"h"))})))))};r(127);function Z(){Z=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var f={};function m(){}function h(){}function d(){}var p={};u(p,o,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(N([])));v&&v!==t&&r.call(v,o)&&(p=v);var g=d.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var u=l(e[a],e,o);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(u.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return T()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=u(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),u(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(g),u(g,c,"Generator"),u(g,o,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var $,ee=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),c=Object(f.a)(i,2),u=c[0],s=c[1],d=Object(n.useState)(""),p=Object(f.a)(d,2),v=p[0],g=p[1],y=Object(n.useState)(!0),E=Object(f.a)(y,2),w=E[0],j=E[1],O=Object(l.o)(),x=Object(n.useContext)(h),k=x.currentUser,N=x.isAdmin;Object(n.useEffect)(function(){k?function(){var e=Object(b.a)(Z().mark(function e(){var t,r;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.firestore().collection("Users").doc(k.uid).get();case 3:(t=e.sent).exists&&(r=t.data(),o(r.UserName||""),s(r.UserTeam||""),g(r.isRole||"")),j(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error loading user info:",e.t0),j(!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()():O("/login")},[k,O]);var T=function(){var e=Object(b.a)(Z().mark(function e(t){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,m.a.firestore().collection("Users").doc(k.uid).update({UserName:r,UserTeam:u,isRole:v});case 4:O(N?"/admindash":"/dashboard"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error updating user info:",e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}();return w?a.a.createElement("div",{className:"user-setup-container"},"Loading..."):a.a.createElement("div",{className:"user-setup-container"},a.a.createElement("div",{className:"user-setup-form"},a.a.createElement("h2",null,"\uacc4\uc815 \uc815\ubcf4 \uc124\uc815"),a.a.createElement("p",null,"\uc774\uc6a9\uc744 \uc704\ud574 \ud544\uc694\ud55c \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),a.a.createElement("form",{onSubmit:T},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"\uc774\ub984:"),a.a.createElement("input",{type:"text",value:r,onChange:function(e){return o(e.target.value)},required:!0,placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694"})),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"\ud300:"),a.a.createElement("input",{type:"text",value:u,onChange:function(e){return s(e.target.value)},required:!0,placeholder:"\uc18c\uc18d \ud300\uc744 \uc785\ub825\ud558\uc138\uc694"})),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"\ubd80\uc11c\ubd84\ub958:"),a.a.createElement("select",{value:v,onChange:function(e){return g(e.target.value)},required:!0},a.a.createElement("option",{value:""},"\uc120\ud0dd\ud574\uc8fc\uc138\uc694"),a.a.createElement("option",{value:"1"},"\uc0ac\uc5c5\ubd80\uc11c"),a.a.createElement("option",{value:"2"},"\uacbd\uc601\ubd80\uc11c"),a.a.createElement("option",{value:"3"},"\ub514\uc790\uc778"))),a.a.createElement("button",{type:"submit",className:"submit-button"},"\uc815\ubcf4 \uc800\uc7a5"))))};Object(u.a)($||($=Object(c.a)(["\n  body {\n    background: #e9ecef;\n  }\n"])));var te=function(){return a.a.createElement(d,null,a.a.createElement(s.a,null,a.a.createElement(O,null),a.a.createElement(x,null),a.a.createElement(l.d,null,a.a.createElement(l.b,{path:"/",element:a.a.createElement(l.a,{to:"/login",replace:!0})}),a.a.createElement(l.b,{path:"/login",element:a.a.createElement(j,null)}),a.a.createElement(l.b,{path:"/dashboard",element:a.a.createElement(p,null,a.a.createElement(R,null))}),a.a.createElement(l.b,{path:"/myproject",element:a.a.createElement(p,null,a.a.createElement(F,null))}),a.a.createElement(l.b,{path:"/add-department",element:a.a.createElement(p,null,a.a.createElement(B,null))})," ",a.a.createElement(l.b,{path:"/add-task",element:a.a.createElement(p,null,a.a.createElement(Q,null))})," ",a.a.createElement(l.b,{path:"/admindash",element:a.a.createElement(p,null,a.a.createElement(W,null))})," ",a.a.createElement(l.b,{path:"/totaladmin",element:a.a.createElement(p,null,a.a.createElement(V,null))})," ",a.a.createElement(l.b,{path:"/setup",element:a.a.createElement(ee,null)}))))},re=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,137)).then(function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),o(e),i(e)})};r(128);i.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(te,null))),re()},69:function(e,t,r){e.exports=r(129)},76:function(e,t,r){},78:function(e,t,r){},79:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},82:function(e,t,r){},83:function(e,t,r){},86:function(e,t,r){}},[[69,1,2]]]);
//# sourceMappingURL=main.9ca4be6e.chunk.js.map